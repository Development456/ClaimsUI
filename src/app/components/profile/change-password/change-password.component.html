<mat-card>
    <mat-card-header style="background-color: #d7c08a;border-radius:4px;">
        <mat-card-title style="margin-top: 10%;">Change Password</mat-card-title>
    </mat-card-header><br>

    <form [formGroup]="changePasswordForm">
        <mat-card-content>
            <span *ngIf="passwordFormControl['username'].invalid && passwordFormControl['username'].touched">
                <span class="text-danger" *ngIf="changePasswordForm.controls['username']?.errors?.['required']">Username is required</span>
              </span>
            <mat-form-field appearance="outline" fxFlexFill color="primary">
                <mat-label>Username</mat-label>
                <input matInput required formControlName="username" type="text">
            </mat-form-field>
           
            <span *ngIf="passwordFormControl['currentPassword'].invalid && passwordFormControl['currentPassword'].touched">
                <mat-error *ngIf="changePasswordForm.controls['currentPassword']?.errors?.['required']">Current Password is required</mat-error>
              </span>
            <mat-form-field appearance="outline" fxFlexFill color="primary" required>
                <mat-label> Current Password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" formControlName="currentPassword">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
           
            <span *ngIf="passwordFormControl['newPassword'].invalid && passwordFormControl['newPassword'].touched">
                <mat-error *ngIf="changePasswordForm.controls['newPassword']?.errors?.['required']">Password is required</mat-error>
                <mat-error *ngIf="changePasswordForm.controls['newPassword']?.errors?.['minlength'] ||
                changePasswordForm.controls['newPassword']?.errors?.['maxlength'] ||changePasswordForm.controls['newPassword']?.errors?.['pattern']">Please match the requested format.</mat-error>
              </span>
            <mat-form-field appearance="outline" fxFlexFill color="primary" required>
                <mat-label> New Password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" formControlName="newPassword">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <button mat-icon-button matSuffix (click)="infoDialog()">
                    <mat-icon>info</mat-icon>
                </button>   
            </mat-form-field>
             

       </mat-card-content>    
    </form> 

        <mat-card-actions>
            <button mat-stroked-button color="warn" mat-dialog-close type="button" (click)="cancelchangePasswordForm()">Cancel</button>
            <button mat-stroked-button color="primary" class="float-end" mat-button type="submit" 
            (click)="passwordChange()" [disabled]="!(changePasswordForm.valid && changePasswordForm.dirty)">Submit</button>
        </mat-card-actions>
</mat-card>



